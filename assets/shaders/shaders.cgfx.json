{"version": 1,"name": "shaders.cgfx","parameters":{"worldTranspose":{"type": "float","rows": 3,"columns": 4},"worldInverseTranspose":{"type": "float","rows": 3,"columns": 3},"worldViewProjection":{"type": "float","rows": 4,"columns": 4},"materialColor":{"type": "float","columns": 4},"eyePosition":{"type": "float","columns": 3},"lightPosition":{"type": "float","columns": 3},"lightColor":{"type": "float","columns": 3},"ambientColor":{"type": "float","columns": 3},"Ks":{"type": "float","values": [0.5]},"SpecularExponent":{"type": "float","values": [55]},"diffuse":{"type": "sampler2D"}},"techniques":{"color":[{"name": "p0","parameters": ["worldViewProjection"],"semantics": ["ATTR0","ATTR3"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": false},"programs": ["vp_color","fp_flat"]}],"flat":[{"name": "p0","parameters": ["worldTranspose","worldInverseTranspose","worldViewProjection","materialColor","lightPosition","lightColor","ambientColor"],"semantics": ["ATTR0","ATTR2"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": false},"programs": ["vp_flat","fp_flat"]}],"lambert":[{"name": "p0","parameters": ["worldTranspose","worldInverseTranspose","worldViewProjection","lightPosition","lightColor","ambientColor","diffuse"],"semantics": ["ATTR0","ATTR2","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": false},"programs": ["vp_lambert","fp_lambert"]}],"blinn":[{"name": "p0","parameters": ["worldTranspose","worldInverseTranspose","worldViewProjection","eyePosition","lightPosition","lightColor","ambientColor","Ks","SpecularExponent","diffuse"],"semantics": ["ATTR0","ATTR2","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": false},"programs": ["vp_perpixel","fp_blinn"]}],"phong":[{"name": "p0","parameters": ["worldTranspose","worldInverseTranspose","worldViewProjection","eyePosition","lightPosition","lightColor","ambientColor","Ks","SpecularExponent","diffuse"],"semantics": ["ATTR0","ATTR2","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": false},"programs": ["vp_perpixel","fp_phong"]}]},"programs":{"fp_phong":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[4];\nvec4 _ret_0;vec4 _TMP0;float _TMP4;float _TMP7;float _TMP3;float _TMP6;float _TMP2;float _TMP1;vec3 _R0038;float _s0038;vec3 _DiffuseContrib0038;vec3 _SpecularContrib0038;vec3 _i0040;float _TMP47;float _TMP57;uniform vec3 lightColor;uniform vec3 ambientColor;uniform float Ks;uniform float SpecularExponent;uniform sampler2D diffuse;void main()\n{vec3 _Nn1;vec3 _Ln1;vec3 _Vn1;vec3 _result;_TMP1=dot(tz_TexCoord[1].xyz,tz_TexCoord[1].xyz);_TMP2=inversesqrt(_TMP1);_Nn1=_TMP2*tz_TexCoord[1].xyz;_TMP1=dot(tz_TexCoord[2].xyz,tz_TexCoord[2].xyz);_TMP2=inversesqrt(_TMP1);_Ln1=_TMP2*tz_TexCoord[2].xyz;_TMP1=dot(tz_TexCoord[3].xyz,tz_TexCoord[3].xyz);_TMP2=inversesqrt(_TMP1);_Vn1=_TMP2*tz_TexCoord[3].xyz;_i0040=-_Ln1;_TMP6=dot(_Nn1,_i0040);_R0038=_i0040-(2.0*_Nn1)*_TMP6;_TMP3=dot(_Ln1,_Nn1);_TMP7=min(1.0,_TMP3);_TMP47=max(0.0,_TMP7);_TMP4=dot(_R0038,_Vn1);_TMP7=min(1.0,_TMP4);_TMP57=max(0.0,_TMP7);_s0038=pow(_TMP57,SpecularExponent);_DiffuseContrib0038=_TMP47*lightColor;_SpecularContrib0038=(float((_TMP47>0.0))*_s0038*Ks)*lightColor;_TMP0=texture2D(diffuse,tz_TexCoord[0].xy);_result=_SpecularContrib0038+_TMP0.xyz*(_DiffuseContrib0038+ambientColor);_ret_0=vec4(_result.x,_result.y,_result.z,1.0);gl_FragColor=_ret_0;}"},"vp_perpixel":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[4];attribute vec4 ATTR0;attribute vec3 ATTR2;attribute vec4 ATTR8;\nstruct VP_OUT{vec4 _Position5;vec2 _UV2;vec3 _Normal2;vec3 _Light;vec3 _View;};float _TMP4;float _TMP3;float _TMP2;float _TMP1;float _TMP0;vec4 _p0021;vec3 _v0031;vec3 _v0037;uniform vec4 worldTranspose[3];uniform vec3 worldInverseTranspose[3];uniform vec4 worldViewProjection[4];uniform vec3 eyePosition;uniform vec3 lightPosition;void main()\n{VP_OUT _OUT;vec3 _position;_OUT._Position5=ATTR0.xxxx*worldViewProjection[0]+ATTR0.yyyy*worldViewProjection[1]+ATTR0.zzzz*worldViewProjection[2]+worldViewProjection[3];_p0021=vec4(ATTR0.x,ATTR0.y,ATTR0.z,1.0);_TMP0=dot(_p0021,worldTranspose[0]);_TMP1=dot(_p0021,worldTranspose[1]);_TMP2=dot(_p0021,worldTranspose[2]);_position=vec3(_TMP0,_TMP1,_TMP2);_OUT._Normal2=ATTR2.xxx*worldInverseTranspose[0]+ATTR2.yyy*worldInverseTranspose[1]+ATTR2.zzz*worldInverseTranspose[2];_v0031=lightPosition-_position;_TMP3=dot(_v0031,_v0031);_TMP4=inversesqrt(_TMP3);_OUT._Light=_TMP4*_v0031;_v0037=eyePosition-_position;_TMP3=dot(_v0037,_v0037);_TMP4=inversesqrt(_TMP3);_OUT._View=_TMP4*_v0037;tz_TexCoord[2].xyz=_OUT._Light;tz_TexCoord[0].xy=ATTR8.xy;tz_TexCoord[3].xyz=_OUT._View;tz_TexCoord[1].xyz=_OUT._Normal2;gl_Position=_OUT._Position5;}"},"fp_blinn":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[4];\nvec4 _ret_0;vec4 _TMP0;float _TMP4;float _TMP6;float _TMP3;float _TMP2;float _TMP1;vec3 _Hn0037;float _s0037;vec3 _DiffuseContrib0037;vec3 _SpecularContrib0037;vec3 _v0039;float _TMP48;float _TMP58;uniform vec3 lightColor;uniform vec3 ambientColor;uniform float Ks;uniform float SpecularExponent;uniform sampler2D diffuse;void main()\n{vec3 _Nn1;vec3 _Ln1;vec3 _Vn1;vec3 _result;_TMP1=dot(tz_TexCoord[1].xyz,tz_TexCoord[1].xyz);_TMP2=inversesqrt(_TMP1);_Nn1=_TMP2*tz_TexCoord[1].xyz;_TMP1=dot(tz_TexCoord[2].xyz,tz_TexCoord[2].xyz);_TMP2=inversesqrt(_TMP1);_Ln1=_TMP2*tz_TexCoord[2].xyz;_TMP1=dot(tz_TexCoord[3].xyz,tz_TexCoord[3].xyz);_TMP2=inversesqrt(_TMP1);_Vn1=_TMP2*tz_TexCoord[3].xyz;_v0039=_Vn1+_Ln1;_TMP1=dot(_v0039,_v0039);_TMP2=inversesqrt(_TMP1);_Hn0037=_TMP2*_v0039;_TMP3=dot(_Ln1,_Nn1);_TMP6=min(1.0,_TMP3);_TMP48=max(0.0,_TMP6);_TMP4=dot(_Hn0037,_Nn1);_TMP6=min(1.0,_TMP4);_TMP58=max(0.0,_TMP6);_s0037=pow(_TMP58,SpecularExponent);_DiffuseContrib0037=_TMP48*lightColor;_SpecularContrib0037=(float((_TMP48>0.0))*_s0037*Ks)*lightColor;_TMP0=texture2D(diffuse,tz_TexCoord[0].xy);_result=_SpecularContrib0037+_TMP0.xyz*(_DiffuseContrib0037+ambientColor);_ret_0=vec4(_result.x,_result.y,_result.z,1.0);gl_FragColor=_ret_0;}"},"fp_lambert":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[1];\nvec4 _ret_0;vec4 _TMP0;uniform sampler2D diffuse;void main()\n{_TMP0=texture2D(diffuse,tz_TexCoord[0].xy);_ret_0=tz_Color*_TMP0;gl_FragColor=_ret_0;}"},"vp_lambert":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[1];attribute vec4 ATTR0;attribute vec3 ATTR2;attribute vec4 ATTR8;\nstruct VP_LAMBERT_OUT{vec4 _Position3;vec4 _Color1;vec2 _UV1;};float _TMP1;float _TMP8;float _TMP7;float _TMP6;vec3 _TMP0;float _TMP5;float _TMP4;float _TMP3;vec4 _p0026;vec3 _v0042;float _TMP51;uniform vec4 worldTranspose[3];uniform vec3 worldInverseTranspose[3];uniform vec4 worldViewProjection[4];uniform vec3 lightPosition;uniform vec3 lightColor;uniform vec3 ambientColor;void main()\n{VP_LAMBERT_OUT _OUT;vec3 _position;vec3 _normal;vec3 _lv;vec3 _TMP21;_OUT._Position3=ATTR0.xxxx*worldViewProjection[0]+ATTR0.yyyy*worldViewProjection[1]+ATTR0.zzzz*worldViewProjection[2]+worldViewProjection[3];_p0026=vec4(ATTR0.x,ATTR0.y,ATTR0.z,1.0);_TMP3=dot(_p0026,worldTranspose[0]);_TMP4=dot(_p0026,worldTranspose[1]);_TMP5=dot(_p0026,worldTranspose[2]);_position=vec3(_TMP3,_TMP4,_TMP5);_TMP0=ATTR2.xxx*worldInverseTranspose[0]+ATTR2.yyy*worldInverseTranspose[1]+ATTR2.zzz*worldInverseTranspose[2];_TMP6=dot(_TMP0,_TMP0);_TMP7=inversesqrt(_TMP6);_normal=_TMP7*_TMP0;_v0042=lightPosition-_position;_TMP6=dot(_v0042,_v0042);_TMP7=inversesqrt(_TMP6);_lv=_TMP7*_v0042;_TMP1=dot(_normal,_lv);_TMP8=min(1.0,_TMP1);_TMP51=max(0.0,_TMP8);_TMP21=_TMP51*lightColor+ambientColor;_OUT._Color1=vec4(_TMP21.x,_TMP21.y,_TMP21.z,1.0);tz_TexCoord[0].xy=ATTR8.xy;tz_Color=_OUT._Color1;gl_Position=_OUT._Position3;}"},"fp_flat":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;\nvoid main()\n{gl_FragColor=tz_Color;}"},"vp_flat":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;attribute vec4 ATTR0;attribute vec3 ATTR2;\nstruct VP_FLAT_OUT{vec4 _Position4;vec4 _Color2;};float _TMP1;float _TMP8;float _TMP7;float _TMP6;vec3 _TMP0;float _TMP5;float _TMP4;float _TMP3;vec4 _p0026;vec3 _v0042;float _TMP51;uniform vec4 worldTranspose[3];uniform vec3 worldInverseTranspose[3];uniform vec4 worldViewProjection[4];uniform vec4 materialColor;uniform vec3 lightPosition;uniform vec3 lightColor;uniform vec3 ambientColor;void main()\n{VP_FLAT_OUT _OUT;vec3 _position;vec3 _normal;vec3 _lv;vec3 _color;vec3 _TMP21;_OUT._Position4=ATTR0.xxxx*worldViewProjection[0]+ATTR0.yyyy*worldViewProjection[1]+ATTR0.zzzz*worldViewProjection[2]+worldViewProjection[3];_p0026=vec4(ATTR0.x,ATTR0.y,ATTR0.z,1.0);_TMP3=dot(_p0026,worldTranspose[0]);_TMP4=dot(_p0026,worldTranspose[1]);_TMP5=dot(_p0026,worldTranspose[2]);_position=vec3(_TMP3,_TMP4,_TMP5);_TMP0=ATTR2.xxx*worldInverseTranspose[0]+ATTR2.yyy*worldInverseTranspose[1]+ATTR2.zzz*worldInverseTranspose[2];_TMP6=dot(_TMP0,_TMP0);_TMP7=inversesqrt(_TMP6);_normal=_TMP7*_TMP0;_v0042=lightPosition-_position;_TMP6=dot(_v0042,_v0042);_TMP7=inversesqrt(_TMP6);_lv=_TMP7*_v0042;_TMP1=dot(_normal,_lv);_TMP8=min(1.0,_TMP1);_TMP51=max(0.0,_TMP8);_color=_TMP51*lightColor+ambientColor;_TMP21=_color*materialColor.xyz;_OUT._Color2=vec4(_TMP21.x,_TMP21.y,_TMP21.z,materialColor.w);tz_Color=_OUT._Color2;gl_Position=_OUT._Position4;}"},"vp_color":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;attribute vec4 ATTR0;attribute vec4 ATTR3;\nstruct VP_FLAT_OUT{vec4 _Position4;vec4 _Color2;};uniform vec4 worldViewProjection[4];void main()\n{VP_FLAT_OUT _OUT;_OUT._Position4=ATTR0.xxxx*worldViewProjection[0]+ATTR0.yyyy*worldViewProjection[1]+ATTR0.zzzz*worldViewProjection[2]+worldViewProjection[3];tz_Color=ATTR3;gl_Position=_OUT._Position4;}"}}}